(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2979:(e,s,a)=>{Promise.resolve().then(a.bind(a,8371))},8371:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>m});var t=a(5155),l=a(2115),r=a(4964),n=a(5576),c=a(2378),i=a(2253);function d(){let[e,s]=(0,l.useState)(""),[a,r]=(0,l.useState)(""),[d,o]=(0,l.useState)(null),u=async s=>{s.preventDefault(),o(null);try{let{data:s,error:t}=await n.DB.auth.signInWithPassword({email:e,password:a});if(t)return void o(t.message);c.A.set("supabase-auth-token",JSON.stringify(s.session),{expires:1,path:"/",secure:!0,sameSite:"Strict"}),location.reload()}catch(e){o("Помилка авторизації: "+e.message)}};return(0,t.jsx)("div",{className:"d-block",children:(0,t.jsxs)("form",{onSubmit:u,children:[d&&(0,t.jsx)("div",{className:"alert alert-danger",children:d}),(0,t.jsx)("div",{className:"d-flex justify-content-center m-4",children:(0,t.jsxs)("div",{className:i.Fr?"w-100":"w-50",children:[(0,t.jsx)("label",{className:"form-label",children:"Email"}),(0,t.jsx)("input",{className:"form-control form-control-lg",type:"email",placeholder:"email@com.ua",value:e,onChange:e=>s(e.target.value),required:!0})]})}),(0,t.jsx)("div",{className:"d-flex justify-content-center m-4",children:(0,t.jsxs)("div",{className:i.Fr?"w-100":"w-50",children:[(0,t.jsx)("label",{className:"form-label",children:"Пароль"}),(0,t.jsx)("input",{className:"form-control form-control-lg",type:"password",placeholder:"",value:a,onChange:e=>r(e.target.value),required:!0})]})}),(0,t.jsx)("div",{className:"d-flex justify-content-center m-4",children:(0,t.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Увійти"})})]})})}var o=a(4091),u=a(9549);function m(){let[e,s]=(0,l.useState)(!1),[a,n]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{!async function(){try{await (0,r.T5)()?s(!0):((0,r.e4)(),s(!1)),n(!1)}catch(e){(0,r.e4)(),s(!1),n(!1)}}()},[]),a)?(0,t.jsx)(o.A,{}):(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("div",{className:"m-5 text-center",children:(0,t.jsx)("p",{className:"h1",children:"LiVi Analytics"})}),e?(0,t.jsx)(u.default,{}):(0,t.jsx)(d,{})]})}}},e=>{e.O(0,[863,57,253,549,441,255,358],()=>e(e.s=2979)),_N_E=e.O()}]);