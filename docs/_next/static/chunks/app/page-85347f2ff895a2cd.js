(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2979:(e,s,t)=>{Promise.resolve().then(t.bind(t,7357))},7357:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var a=t(5155),l=t(2115),r=t(4964),n=t(5576),c=t(2378),i=t(2253);function d(){let[e,s]=(0,l.useState)(""),[t,r]=(0,l.useState)(""),[d,u]=(0,l.useState)(null),o=async s=>{s.preventDefault(),u(null);try{let{data:s,error:a}=await n.DB.auth.signInWithPassword({email:e,password:t});if(a)return void u(a.message);c.A.set("supabase-auth-token",JSON.stringify(s.session),{expires:1,path:"/",secure:!0,sameSite:"Strict"}),location.reload()}catch(e){u("Помилка авторизації: "+e.message)}};return(0,a.jsx)("div",{className:"d-block",children:(0,a.jsxs)("form",{onSubmit:o,children:[d&&(0,a.jsx)("div",{className:"alert alert-danger",children:d}),(0,a.jsx)("div",{className:"d-flex justify-content-center m-4",children:(0,a.jsxs)("div",{className:i.Fr?"w-100":"w-50",children:[(0,a.jsx)("label",{className:"form-label",children:"Email"}),(0,a.jsx)("input",{className:"form-control form-control-lg",type:"email",placeholder:"email@com.ua",value:e,onChange:e=>s(e.target.value),required:!0})]})}),(0,a.jsx)("div",{className:"d-flex justify-content-center m-4",children:(0,a.jsxs)("div",{className:i.Fr?"w-100":"w-50",children:[(0,a.jsx)("label",{className:"form-label",children:"Пароль"}),(0,a.jsx)("input",{className:"form-control form-control-lg",type:"password",placeholder:"",value:t,onChange:e=>r(e.target.value),required:!0})]})}),(0,a.jsx)("div",{className:"d-flex justify-content-center m-4",children:(0,a.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Увійти"})})]})})}t(8148);var u=t(4091),o=t(7021),m=t(2177);function h(){return(0,a.jsx)("div",{children:i.Fr?(0,a.jsx)(m.default,{}):(0,a.jsx)(o.default,{})})}function f(){let[e,s]=(0,l.useState)(!1),[t,n]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{!async function(){try{await (0,r.T5)()?s(!0):((0,r.e4)(),s(!1)),n(!1)}catch(e){(0,r.e4)(),s(!1),n(!1)}}()},[]),t)?(0,a.jsx)(u.A,{}):(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("div",{className:"m-5 text-center",children:(0,a.jsx)("p",{className:"h1",children:"LiVi Analytics"})}),e?(0,a.jsx)(h,{}):(0,a.jsx)(d,{})]})}},8148:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var a=t(5155),l=t(2619),r=t.n(l);function n(e){let{href:s,text:t,color:l}=e;return(0,a.jsx)("div",{className:"text-center p-2",children:(0,a.jsx)(r(),{href:s,className:"btn btn-".concat(l," btn-menu fs-4 fw-bold"),children:t})})}}},e=>{e.O(0,[863,263,619,253,405,441,255,358],()=>e(e.s=2979)),_N_E=e.O()}]);